<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Калькулятор заточки STALCRAFT</title>
    <meta name="description" content="Калькулятор заточки, Сталкрафт, STALCRAFT, StalMath, заточка снаряжения.">
    <link rel="icon" href="favicon.png" type="image/png" />
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Russo+One&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
    <link rel="stylesheet" href="styles.css"/>
    <link rel="stylesheet" href="sharpening.css"/>
</head>
<body class="page-sharpening">
    <header class="site-header">
        <nav class="header-links start">
            <a href="#" data-modal-target="#about-modal">О сайте</a>
            <a href="#" data-modal-target="#contacts-modal">Связь</a>
        </nav>

        <div class="brand">
            <a href="index.html" class="logo" aria-label="StalMath — на главную">StalMath</a>
            <span class="badge">community project</span>
        </div>

        <nav class="header-links end">
            <div class="dropdown" id="calcDropdown">
            <button class="nav-btn dropdown-toggle" id="calcMenuBtn" aria-expanded="false" aria-haspopup="true" aria-controls="calcMenu">
                <i class="fa-solid fa-calculator"></i> Калькуляторы <i class="fa-solid fa-angle-down chevron" aria-hidden="true"></i>
            </button>
            <div class="dropdown-menu" id="calcMenu" role="menu">
                <a class="dropdown-item" role="menuitem" href="barter.html">
                <i class="fa-solid fa-coins"></i> Калькулятор бартера
                </a>
                <a class="dropdown-item" role="menuitem" href="sharpening.html">
                <i class="fa-solid fa-screwdriver-wrench"></i> Калькулятор заточки
                </a>
                <div class="dropdown-note">Скоро: экономические расчёты, DPS‑таблица</div>
            </div>
            </div>

            <a href="guides.html"><i class="fa-solid fa-book-open"></i> Руководства</a>
        </nav>

        <div class="header-actions">
            <button id="themeToggleBtn" class="ghost-btn" title="Переключить тему">
            <i class="fa-solid fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Модальные окна -->
    <div id="about-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="about-title">
    <div class="modal-content">
        <button class="close-button" aria-label="Закрыть">&times;</button>
        <h2 id="about-title">О StalMath</h2>
        <p>StalMath — набор бесплатных инструментов и гайдов по STALCRAFT: X. Мы фокусируемся на точных расчётах, удобстве и наглядности.</p>
        <ul>
        <li>Калькулятор бартера с пресетами, скидками и шэрингом</li>
        <li>Калькулятор заточки</li>
        <li>Руководства и таблицы</li>
        </ul>
        <p>Обратная связь и помощь приветствуются — смотрите раздел «Связь».</p>
    </div>
    </div>

    <!-- Связь  -->
    <div id="contacts-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="contacts-title">
    <div class="modal-content">
        <button class="close-button" aria-label="Закрыть">&times;</button>
        <h2 id="contacts-title">Как связаться</h2>

        <ul class="contact-list">
        <li class="contact-item">
            <i class="ci vk fa-brands fa-vk" aria-hidden="true"></i>
            <div class="contact-text">
            <div class="label">ВКонтакте</div>
            <a class="contact-link brand-vk" href="https://vk.com/hxteevery1" target="_blank" rel="noreferrer noopener" title="Открыть профиль VK">
                <span>@everal41</span>
                <i class="fa-solid fa-arrow-up-right-from-square" aria-hidden="true"></i>
            </a>
            </div>
        </li>

        <li class="contact-item">
            <i class="ci discord fa-brands fa-discord" aria-hidden="true"></i>
            <div class="contact-text">
            <div class="label">Discord</div>
            <a class="contact-link brand-discord" href="https://discord.gg/9hkdXxRSnr" target="_blank" rel="noreferrer noopener" title="Перейти на сервер Discord">
                <span>Наш сервер</span>
                <i class="fa-solid fa-arrow-up-right-from-square" aria-hidden="true"></i>
            </a>
            </div>
        </li>

        <li class="contact-item">
            <i class="ci game fa-solid fa-gamepad" aria-hidden="true"></i>
            <div class="contact-text">
            <div class="label">Ник в игре</div>
            <div class="nick-row">
                <span class="nick online-nick" id="gameNick">X_Solitude</span>
                <button type="button" class="copy-btn" id="copyNickBtn" title="Скопировать ник">
                <i class="fa-regular fa-copy" aria-hidden="true"></i>
                <span>Копировать</span>
                </button>
            </div>
            </div>
        </li>
        </ul>
    </div>
    </div>
    <!-- Конец модальных окон -->
    <div class="container sharpening-container">

        <div class="sharpening-settings">
            <div class="level-select">
                <label for="start-level">С уровня:</label>
                <select id="start-level">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                </select>
            </div>

            <div class="level-select">
                <label for="end-level">До уровня:</label>
                <select id="end-level">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                </select>
            </div>

            <div class="current-attempt">
                <label for="current-attempt">Текущая попытка:</label>
                <input type="number" id="current-attempt" min="0" value="0">
            </div>
        </div>
        <h2>Цены ресурсов</h2>
        <div class="price-inputs">
                <div class="resource-price">
                    <label for="cheap-part-price" class="cheap-part-price">Дешёвые запчасти:</label>
                    <input type="number" id="cheap-part-price" min="0" value="15000">  <!-- Пример цены -->
                </div>
                <div class="resource-price">
                    <label for="cheap-tool-price">Дешёвые инструменты:</label>
                    <input type="number" id="cheap-tool-price" min="0" value="25000"> <!-- Пример цены -->
                </div>
                <div class="resource-price">
                    <label for="standard-part-price">Стандартные запчасти:</label>
                    <input type="number" id="standard-part-price" min="0" value="30000"> <!-- Пример цены -->
                </div>
                <div class="resource-price">
                    <label for="standard-tool-price">Стандартные инструменты:</label>
                    <input type="number" id="standard-tool-price" min="0" value="9000"> <!-- Пример цены -->
                </div>
                <div class="resource-price">
                     <label for="advanced-part-price">Продвинутые запчасти:</label>
                     <input type="number" id="advanced-part-price" min="0" value="60000"> <!-- Пример цены -->
                </div>
                <div class="resource-price">
                    <label for="advanced-tool-price">Продвинутые инструменты:</label>
                    <input type="number" id="advanced-tool-price" min="0" value="12500"> <!-- Пример цены -->
                </div>
        </div>

        <h2>Необходимые ресурсы</h2>
        <div class="resource-display">
            <div class="resource-block cheap-resources">
                <img src="images/sharpening/cheap_part.webp" alt="Дешевые запчасти">
                <div class="resource-info">
                    <span class="resource-name cheap">Дешевые запчасти</span>
                    <div>
                        <span class="total-label">Всего:</span>
                        <span class="total-amount cheap-parts-total">0</span>
                    </div>
                    <div>
                        <span class="guaranteed-label">До гаранта:</span>
                        <span class="guaranteed-amount cheap-parts-guaranteed">0</span>
                    </div>
                </div>
            </div>
             <div class="resource-block cheap-resources">
                <img src="images/sharpening/cheap_tool.webp" alt="Дешевые инструменты">
                <div class="resource-info">
                    <span class="resource-name cheap">Дешевые инструменты</span>
                    <div>
                        <span class="total-label">Всего:</span>
                            <span class="total-amount cheap-tools-total">0</span>
                        </div>
                        <div>
                            <span class="guaranteed-label">До гаранта:</span>
                            <span class="guaranteed-amount cheap-tools-guaranteed">0</span>
                        </div>
                    </div>
                </div>
    
                <div class="resource-block standard-resources">
                    <img src="images/sharpening/standard_part.webp" alt="Стандартные запчасти">
                    <div class="resource-info">
                        <span class="resource-name standard">Стандартные запчасти</span>
                        <div>
                            <span class="total-label">Всего:</span>
                            <span class="total-amount standard-parts-total">0</span>
                        </div>
                        <div>
                            <span class="guaranteed-label">До гаранта:</span>
                            <span class="guaranteed-amount standard-parts-guaranteed">0</span>
                        </div>
                    </div>
    
                </div>
                <div class="resource-block standard-resources">
                    <img src="images/sharpening/standard_tool.webp" alt="Стандартные инструменты">
                    <div class="resource-info">
                        <span class="resource-name standard">Стандартные инструменты</span>
                        <div>
                            <span class="total-label">Всего:</span>
                            <span class="total-amount standard-tools-total">0</span>
                        </div>
                        <div>
                            <span class="guaranteed-label">До гаранта:</span>
                            <span class="guaranteed-amount standard-tools-guaranteed">0</span>
                        </div>
                    </div>
                </div>
    
                <div class="resource-block advanced-resources">
                    <img src="images/sharpening/advanced_part.webp" alt="Продвинутые запчасти">
                    <div class="resource-info">
                        <span class="resource-name advanced">Продвинутые запчасти</span>
                        <div>
                            <span class="total-label">Всего:</span>
                            <span class="total-amount advanced-parts-total">0</span>
                        </div>
                        <div>
                            <span class="guaranteed-label">До гаранта:</span>
                            <span class="guaranteed-amount advanced-parts-guaranteed">0</span>
                        </div>
                    </div>
                </div>
                <div class="resource-block advanced-resources">
                    <img src="images/sharpening/advanced_tool.webp" alt="Продвинутые инструменты">
                    <div class="resource-info">
                        <span class="resource-name advanced">Продвинутые инструменты</span>
                        <div>
                            <span class="total-label">Всего:</span>
                            <span class="total-amount advanced-tools-total">0</span>
                        </div>
                        <div>
                            <span class="guaranteed-label">До гаранта:</span>
                            <span class="guaranteed-amount advanced-tools-guaranteed">0</span>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="cost-display">
                <h2>Стоимость заточки</h2>
                <div>
                    <span class="total-label">Общая стоимость:</span>
                    <span class="total-cost">0</span>
                </div>
                <div>
                    <span class="guaranteed-label">Стоимость до гаранта:</span>
                    <span class="guaranteed-cost">0</span>
                </div>
            </div>
    
            <button id="calculate-sharpening">Рассчитать</button>
             <div class="error-message" style="display: none;"></div>
        </div>
    
        <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>

        <script src="global.js?v=2"></script>
        <script src="home.js"></script>
        <script src="sharpening.js"></script>
    </body>
</html>
